@using TelegramGroupsAdmin.Configuration
@using Microsoft.Extensions.Options
@inject IOptions<AppOptions> AppOptionsAccessor

<MudStack Spacing="4">
    <!-- Application Settings -->
    <MudPaper Class="pa-4">
        <MudText Typo="Typo.h6" GutterBottom="true">Application Settings</MudText>
        <MudText Typo="Typo.body2" Class="mb-4">
            Core application configuration
        </MudText>

        <MudStack Spacing="3">
            <MudTextField @bind-Value="_appSettings.BaseUrl"
                         Label="Base URL"
                         Variant="Variant.Outlined"
                         HelperText="Public URL for email links (e.g., https://yourdomain.com)"
                         Disabled="true" />

            <MudAlert Severity="Severity.Info" Dense="true">
                Application settings are configured via environment variables and cannot be changed from the UI.
                Set APP__BASEURL to change the base URL.
            </MudAlert>
        </MudStack>
    </MudPaper>
</MudStack>

@code {
    private AppOptions _appSettings = new();

    protected override void OnInitialized()
    {
        _appSettings = new AppOptions
        {
            BaseUrl = AppOptionsAccessor.Value.BaseUrl
        };
    }
}
